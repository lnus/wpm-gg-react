(this["webpackJsonpwpm-gg"]=this["webpackJsonpwpm-gg"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),s=c(8),a=c.n(s),i=(c(15),c(16),c(10)),u=c(2),o=c(5),d=c.n(o),l=c(0),j=Object(r.createContext)(),b=function(e){var t=Object(r.useState)(d()({exactly:10,maxLength:7})),c=Object(u.a)(t,2),n=c[0],s=c[1],a=Object(r.useState)([]),i=Object(u.a)(a,2),o=i[0],b=i[1],m=Object(r.useState)(n[0]),p=Object(u.a)(m,2),O=p[0],f=p[1],h=Object(r.useState)(""),x=Object(u.a)(h,2),v=x[0],w=x[1],g=Object(r.useState)(!0),S=Object(u.a)(g,2),C=S[0],y=S[1],_=Object(r.useState)(0),N=Object(u.a)(_,2),W=N[0],T=N[1],E=Object(r.useState)(60),P=Object(u.a)(E,2),F=P[0],M=P[1],k=Object(r.useState)(!1),A=Object(u.a)(k,2),I=A[0],L=A[1],R=Object(r.useState)(0),B=Object(u.a)(R,2),G=B[0],U=B[1],D=Object(r.useState)(0),J=Object(u.a)(D,2),z=J[0],K=J[1],q=Object(r.useState)(0),H=Object(u.a)(q,2),Q=H[0],V=H[1],X=Object(r.useState)(0),Y=Object(u.a)(X,2),Z=Y[0],$=Y[1],ee=Object(r.useState)(!1),te=Object(u.a)(ee,2),ce=te[0],re=te[1],ne=Object(r.useState)(!1),se=Object(u.a)(ne,2),ae=se[0],ie=se[1];return Object(l.jsx)(j.Provider,{value:{targetWords:n,setTargetWords:s,completedWords:o,setCompletedWords:b,currentTarget:O,setCurrentTarget:f,currentUserInput:v,setCurrentUserInput:w,currentWordCorrect:C,setCurrentWordCorrect:y,timeElapsed:W,setTimeElapsed:T,maxTimer:F,setMaxTimer:M,timerSignalStart:I,setTimerSignalStart:L,showEndScreen:ce,setShowEndScreen:re,currentWPM:G,setCurrentWPM:U,currentAccuracy:z,setCurrentAccuracy:K,finalWPM:Q,setFinalWPM:V,finalAccuracy:Z,setFinalAccuracy:$,resetGame:ae,setResetGame:ie},children:e.children})},m=(c(18),function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(r.useContext)(j),a=s.targetWords,o=s.setTargetWords,b=s.completedWords,m=s.setCompletedWords,p=s.currentTarget,O=s.setCurrentTarget,f=s.currentUserInput,h=s.setCurrentUserInput,x=s.currentWordCorrect,v=s.setCurrentWordCorrect,w=s.timerSignalStart,g=s.setTimerSignalStart,S=s.resetGame;Object(r.useEffect)((function(){C.current.value="",h("")}),[S,h]);var C=Object(r.useRef)(),y=Object(r.useCallback)((function(e){null!==e&&n(e.getBoundingClientRect().width)}));return Object(l.jsxs)("div",{className:"type-test-wrapper",children:[Object(l.jsxs)("div",{className:"word-container-wrapper",style:{padding:"0 0 0 calc(50% - ".concat(c,"px")},children:[Object(l.jsx)("div",{className:"word-container word-container__completed-words",ref:y,children:b.slice(-5).map((function(e){return Object(l.jsx)("div",{className:"word ".concat(e.correct?"word--correct":"word--incorrect"),children:e.word})}))}),Object(l.jsx)("div",{className:"word-container word-container__current-word",children:Object(l.jsx)("div",{className:"word word__current-target".concat(x?"":" word__current-target--incorrect"),children:p})}),Object(l.jsx)("div",{className:"word-container word-container__incoming-words",children:a.map((function(e){if(e!==p)return Object(l.jsx)("div",{className:"word",children:e})}))})]}),Object(l.jsx)("div",{className:"input-wrapper",children:Object(l.jsx)("div",{className:"input-field-wrapper",children:Object(l.jsx)("input",{ref:C,style:{padding:"0 0 0 50%"},className:"input-field",contentEditable:!0,autoFocus:!0,spellCheck:"false",placeholder:"type here",autoComplete:"off",autoCapitalize:"off",tabIndex:"0",onFocus:function(e){e.currentTarget.placeholder=""},onBlur:function(e){e.currentTarget.placeholder="type here"},onInput:function(e){var t;h(e.currentTarget.value),t=e.currentTarget.value,p.startsWith(t)||""===t||" "===t?v(!0):v(!1)},onKeyPress:function(e){w||g(!0),function(e){if(" "===e.key||"Enter"===e.key){v(!0);var t=p===f.trim(),c={word:p,correct:t},r=b.concat([c]);m(r);var n=a[1];O(n),o([].concat(Object(i.a)(a.slice(1)),[d()({exactly:1,maxLength:7})[0]])),console.log(a),C.current.value=null,h(""),e.preventDefault()}}(e)}})})})]})}),p=(c(19),function(){var e=Object(r.useContext)(j),t=e.completedWords,c=e.timeElapsed,n=e.currentWPM,s=e.setCurrentWPM,a=e.currentAccuracy,i=e.setCurrentAccuracy;return Object(r.useEffect)((function(){!function(){var e=t.filter((function(e){return e.correct?e:null})).map((function(e){return e.word})).join("").split("").length;s(e/5/c*60)}(),function(){var e=t.filter((function(e){if(e.correct)return e})),c=0!==e.length?e.length/t.length:0;i(c)}()}),[c]),Object(l.jsx)("div",{className:"wpm-status-wrapper",children:Object(l.jsxs)("div",{className:"wpm-status-display",children:[Object(l.jsx)("div",{className:"wpm-status-display__header",children:"Live stats:"}),Object(l.jsxs)("div",{className:"wpm-status-display__wpm",children:["WPM: ",n?n.toFixed(2):0]}),Object(l.jsxs)("div",{className:"wpm-status-display__accuracy",children:["Accuracy ",(100*a).toFixed(2),"%"]})]})})}),O=c(7),f=c.n(O),h=c(9),x=(c(21),function(){var e=Object(r.useContext)(j),t=e.timeElapsed,c=e.setTimeElapsed,n=e.maxTimer,s=e.timerSignalStart,a=e.currentWPM,i=e.setFinalWPM,u=e.currentAccuracy,o=e.setFinalAccuracy,d=e.setShowEndScreen,b=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=9;break}t=n-1;case 2:if(!(t>=0)){e.next=9;break}return e.next=5,new Promise((function(e){return setTimeout(e,1e3)}));case 5:c(n-t);case 6:t--,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(r.useRef)();return m.current=b,Object(r.useEffect)((function(){s&&m.current()}),[s,m]),Object(r.useEffect)((function(){t>=n&&(o(u),i(a),d(!0))}),[t,n,o,i,d,a,u]),Object(l.jsx)("div",{className:"timer-info-wrapper",children:Object(l.jsx)("div",{className:"timer-text",children:n-t})})}),v=(c(22),function(){var e=Object(r.useContext)(j),t=e.showEndScreen,c=e.setShowEndScreen,n=e.finalWPM,s=e.finalAccuracy,a=e.setCurrentAccuracy,i=e.setCurrentWPM,u=e.setCompletedWords,o=e.setTimeElapsed,d=e.setResetGame,b=e.setTimerSignalStart;return Object(l.jsx)("div",{className:"end-screen",style:t?{display:"inherit"}:{display:"none"},children:Object(l.jsx)("div",{className:"end-screen__inner",children:Object(l.jsxs)("div",{className:"end-screen__inner-content",children:[Object(l.jsx)("div",{className:"end-screen__inner-content-header",children:"Final stats:"}),Object(l.jsxs)("div",{className:"end-screen__inner-content-wpm",children:["WPM: ",n?n.toFixed(2):0]}),Object(l.jsxs)("div",{className:"end-screen__inner-content-accuracy",children:["Accuracy: ",(100*s).toFixed(2),"%"]}),Object(l.jsxs)("div",{className:"end-screen__menu",children:[Object(l.jsx)("button",{className:"end-screen__menu-button",onClick:function(e){a(0),i(0),u([]),o(0),b(!1),d(!0),c(!1)},children:"Close"}),Object(l.jsx)("button",{className:"end-screen__menu-button end-screen__menu-button--green",onClick:function(e){alert("not implemented :(")},children:"Share!"})]})]})})})}),w=function(){return Object(l.jsxs)(b,{children:[Object(l.jsx)("div",{className:"timer-wrapper",children:Object(l.jsx)(x,{})}),Object(l.jsx)("div",{className:"typing-game-wrapper",children:Object(l.jsx)(m,{})}),Object(l.jsx)("div",{className:"info-wrapper",children:Object(l.jsx)(p,{})}),Object(l.jsx)("div",{className:"end-screen-wrapper",children:Object(l.jsx)(v,{})})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))};a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root")),g()}],[[23,1,2]]]);
//# sourceMappingURL=main.ff8376b0.chunk.js.map